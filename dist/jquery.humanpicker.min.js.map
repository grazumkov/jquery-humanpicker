{"version":3,"sources":["node_modules/browser-pack/_prelude.js","jquery.humanpicker.js","bower_components/nano/nano.js","src/jquery.humanpicker.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","global","define","browserify_shim__define__module__export__","nano","template","data","replace","str","key","keys","split","v","shift","window","undefined","ex","this","self","2","$","document","humanPickerPlugin","option","each","$this","options","HumanPicker","element","extend","DEFAULTS","kidAgeItems","kages","i18n","lang","map","age","text","value","$element","$bodyListContainer","_renderTpl","Tpl","BodyListContainer","id","prop","$ageListWrap","AgeListWrap","appendTo","body","_render","_bindEvents","prototype","_getI18n","destroy","empty","remove","$wrap","Wrap","opts","initVal","initialValue","optKidAges","kidsAges","Array","adultsCount","AdultItem","addClass","adults","CLASS","classItemSelected","HiddenInput","role","name","adultsParamName","kidsParamName","kids","KidItem","append","kidsAgesParamName","_renderKidAgeList","_updateTooltips","list","j","max","groupMaxItems","kidAgeItemsGroupMax","groupsCount","Math","toFixed","AgeList","min","AgeListItem","_setValue","_getValue","objRes","inputAdults","find","inputKids","inputKidAges","val","item","elem","classItem","$item","titleKey","hasClass","attr","closest","removeAttr","updateKidsCountValue","on","input","toggleClass","_kidAgePickerClose","removeClass","trigger","stopPropagation","$kidItem","curVal","_kidAgePickerShow","valueItem","off","target","preventDefault","kidAgeList","hide","kidItem","curValue","callback","ageClickEvent","css","offset","left","top","outerHeight","classKidAgeSelected","show","ru","tooltipItem","tooltipItemSelected","tooltipEditAge","kidAges","en","VERSION","kidsCount","fn","Constructor","jQuery"],"mappings":"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","file":"jquery.humanpicker.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global){\n; var __browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {\n/* Nano Templates - https://github.com/trix/nano */\r\n\r\nfunction nano(template, data) {\r\n  return template.replace(/\\{([\\w\\.]*)\\}/g, function(str, key) {\r\n    var keys = key.split(\".\"), v = data[keys.shift()];\r\n    for (var i = 0, l = keys.length; i < l; i++) v = v[keys[i]];\r\n    return (typeof v !== \"undefined\" && v !== null) ? v : \"\";\r\n  });\r\n}\r\n\n; browserify_shim__define__module__export__(typeof nano != \"undefined\" ? nano : window.nano);\n\n}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],2:[function(require,module,exports){\n/* global jQuery */\r\n/* global require */\r\n\r\n// TODO: documentation\r\n// TODO: demo page\r\n// TODO: animation add/remove icons\r\n\r\n;(function($, window, document, undefined) { \r\n  'use strict';\r\n  var HumanPicker,\r\n      nano = require(\"nano\");\r\n      \r\n  // ===========================\r\n  // HUMAN PICKER CLASS\r\n  // ===========================\r\n  HumanPicker = function(element, options) { \r\n    this.options   = $.extend({}, HumanPicker.DEFAULTS, options);\r\n\r\n    // generate age items from locale settings\r\n    // use value as index\r\n    this.kidAgeItems = [];\r\n    var kages = HumanPicker.i18n[this.options.lang][\"kidAges\"] || [];\r\n    this.kidAgeItems = $.map(kages, function(age, i){\r\n      return { text: age, value: i };\r\n    });\r\n\r\n    this.$element  = $(element);\r\n    this.$bodyListContainer = this._renderTpl(HumanPicker.Tpl.BodyListContainer, \r\n                                  {id: this.$element.prop('id')+'_HumanPickerListContainer'});\r\n    this.$ageListWrap = this._renderTpl(HumanPicker.Tpl.AgeListWrap);\r\n    this.$ageListWrap.appendTo(this.$bodyListContainer);\r\n    \r\n    this.$bodyListContainer.appendTo(document.body);\r\n    \r\n    this._render();\r\n    this._bindEvents();\r\n  };\r\n\r\n  HumanPicker.prototype._getI18n = function (key){\r\n    return HumanPicker.i18n[this.options.lang][key];\r\n  };\r\n  \r\n  HumanPicker.prototype.destroy = function()\r\n  {\r\n    this.$element.empty();\r\n    this.$bodyListContainer.empty();\r\n    this.$bodyListContainer.remove();\r\n  };\r\n  \r\n  HumanPicker.prototype._renderTpl = function(template, data){\r\n    return $(nano(template, data));\r\n  };\r\n  \r\n  HumanPicker.prototype._render = function(){\r\n    var self = this,\r\n        $wrap = this._renderTpl(HumanPicker.Tpl.Wrap),\r\n        opts = this.options,\r\n        initVal = opts.initialValue,\r\n        optKidAges = initVal.kidsAges && initVal.kidsAges instanceof Array?initVal.kidsAges:[],\r\n        i;\r\n        \r\n    this.$element.empty();\r\n    \r\n    //adults\r\n    for(i = 0; i < opts.adultsCount; i++){\r\n      self._renderTpl(HumanPicker.Tpl.AdultItem)\r\n        .addClass(i<initVal.adults?HumanPicker.CLASS.classItemSelected:'')\r\n        .appendTo($wrap);\r\n    }\r\n    \r\n    // adults, kids input\r\n    self._renderTpl(HumanPicker.Tpl.HiddenInput, {role: \"adults\", name: opts.adultsParamName, value: initVal.adults})\r\n    .appendTo($wrap);\r\n    \r\n     self._renderTpl(HumanPicker.Tpl.HiddenInput, {role: \"kids\", name: opts.kidsParamName, value: initVal.kids})\r\n    .appendTo($wrap);\r\n    \r\n    //kids\r\n    for(i = 0; i < opts.adultsCount; i++){        \r\n      self._renderTpl(HumanPicker.Tpl.KidItem, {age: optKidAges[i] || 0})\r\n        .append(\r\n          self._renderTpl(HumanPicker.Tpl.HiddenInput, {role: \"kid-age\", name: opts.kidsAgesParamName, value: optKidAges[i] || 0})\r\n          .prop(\"disabled\",i>=initVal.kids))\r\n        .addClass(i<initVal.kids?HumanPicker.CLASS.classItemSelected:'')\r\n        .appendTo($wrap);\r\n    }\r\n    \r\n    // hidden kid age picker\r\n    if(self.kidAgeItems.length > 0)\r\n    {\r\n      self._renderKidAgeList();\r\n    }\r\n    \r\n    self.$element.append($wrap);\r\n\r\n    self._updateTooltips();\r\n  };\r\n  \r\n  HumanPicker.prototype._renderKidAgeList = function(){\r\n    var self = this,\r\n        opts = this.options,\r\n        groupMaxItems = opts.kidAgeItemsGroupMax || 9,\r\n        groupsCount = Math.max(((self.kidAgeItems.length || 1) / groupMaxItems).toFixed() - 0, 1),\r\n        list, i,j,max;\r\n        \r\n      this.$ageListWrap.empty();\r\n        \r\n      for(i=0; i<groupsCount; i++){\r\n        list = self._renderTpl(HumanPicker.Tpl.AgeList);\r\n        max = Math.min((i*groupMaxItems)+groupMaxItems, self.kidAgeItems.length);\r\n        for(j=i*groupMaxItems; j<max; j++)\r\n        {\r\n          self._renderTpl(HumanPicker.Tpl.AgeListItem, self.kidAgeItems[j])\r\n            .appendTo(list);\r\n        }\r\n        list.appendTo(this.$ageListWrap);\r\n      }\r\n  };\r\n  \r\n  HumanPicker.prototype.value = function(value){\r\n    if(value && typeof value === 'object'){\r\n      this._setValue(value);\r\n    }\r\n    else{\r\n      return this._getValue();\r\n    }\r\n  };\r\n  \r\n  HumanPicker.prototype._setValue = function(value){\r\n    // TODO: Realize\r\n  };\r\n\r\n  HumanPicker.prototype._getValue = function(){\r\n    var objRes = {},\r\n        inputAdults = this.$element.find('input[data-role=\"adults\"]'),\r\n        inputKids = this.$element.find('input[data-role=\"kids\"]'),\r\n        inputKidAges = this.$element.find('.'+HumanPicker.CLASS.classItemSelected+' input[data-role=\"kid-age\"]');\r\n        \r\n    objRes.adults = inputAdults.val();\r\n    objRes.kids = inputKids.val();\r\n\r\n    objRes.kidsAges = objRes.kidsAges || [];\r\n    if(inputKidAges.length){\r\n      objRes.kidsAges = $.map(inputKidAges, function(item){\r\n        return item.value-0;\r\n      });\r\n    }\r\n    return objRes;\r\n  };\r\n\r\n  HumanPicker.prototype._updateTooltips = function(){\r\n    var self = this,\r\n        elem = self.$element;\r\n\r\n    elem.find(\".\"+HumanPicker.CLASS.classItem).each(function(i, item){\r\n        var $item = $(item);\r\n        var titleKey = $item.hasClass(HumanPicker.CLASS.classItemSelected)?\"tooltipItemSelected\":\"tooltipItem\";\r\n        $($item).attr(\"title\", self._getI18n(titleKey));\r\n    });\r\n\r\n    elem.find('.kid-age-caption').each(function(i, item){\r\n      var $item = $(item);\r\n      if($item.closest(\".\"+HumanPicker.CLASS.classItem).hasClass(HumanPicker.CLASS.classItemSelected)){\r\n          $item.attr(\"title\", self._getI18n(\"tooltipEditAge\"));\r\n      }\r\n      else{\r\n          $item.removeAttr(\"title\");\r\n      }      \r\n    });\r\n            \r\n  };\r\n  \r\n  // TODO: replace/remove attribute selectors\r\n  HumanPicker.prototype._bindEvents = function(){\r\n    var self = this,\r\n        updateKidsCountValue = function(){\r\n          self.$element.find('input[data-role=\"kids\"]')\r\n            .val(self.$element.find('[data-role=\"kid-item\"].'+HumanPicker.CLASS.classItemSelected).length);\r\n        };\r\n        \r\n    self.$element\r\n      .find(\"[data-role='adult-item']\")\r\n      .on(\"click\",function(e){\r\n        var input = self.$element.find('input[data-role=\"adults\"]');\r\n        $(this).toggleClass(HumanPicker.CLASS.classItemSelected);\r\n        input.val(self.$element.find('[data-role=\"adult-item\"].'+HumanPicker.CLASS.classItemSelected).length);\r\n        self._updateTooltips();\r\n    });\r\n    \r\n    self.$element\r\n      .find(\"[data-role='kid-item']\")\r\n      .on(\"click\",function(e){\r\n        var $this = $(this);\r\n        \r\n        self._kidAgePickerClose();\r\n        \r\n        if($this.hasClass(HumanPicker.CLASS.classItemSelected)){\r\n          $this.removeClass( HumanPicker.CLASS.classItemSelected);\r\n          $this.find('.kid-age-caption').text(0);\r\n          $this.find('input[data-role=\"kid-age\"]')\r\n            .prop(\"disabled\",true)\r\n            .val(0);\r\n            \r\n          updateKidsCountValue();\r\n          self._updateTooltips();\r\n        }\r\n        else{\r\n          $this.find('.kid-age-caption').trigger(\"click\");\r\n        }\r\n    });\r\n\r\n    self.$element\r\n      .find(\".kid-age-caption\")\r\n      .on(\"click\",function(e){\r\n        e.stopPropagation();\r\n         var $this = $(this),\r\n             $kidItem = $this.closest(\"[data-role='kid-item']\"),\r\n             curVal = $kidItem.find('input[data-role=\"kid-age\"]').val() || 0;\r\n         self._kidAgePickerShow($kidItem, curVal, function(valueItem){\r\n            $this.text(valueItem.text.replace(/ /g,\"\"));\r\n            $kidItem.addClass( HumanPicker.CLASS.classItemSelected);\r\n            $kidItem.find('input[data-role=\"kid-age\"]')\r\n              .prop(\"disabled\",false)\r\n              .val(valueItem.value);            \r\n            updateKidsCountValue();\r\n            self._updateTooltips();\r\n          });\r\n    });\r\n    \r\n    $(document)\r\n      .off(\"click.humanpicker.document\")\r\n      .on(\"click.humanpicker.document\", function(e){\r\n        if($(e.target).closest('[data-role=\"kid-age-list\"]').length ||\r\n           $(e.target).closest('[data-role=\"kid-item\"]').length){\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n        self._kidAgePickerClose();\r\n      });\r\n      \r\n    $(window)\r\n      .off(\"resize.humanpicker.window\")\r\n      .on(\"resize.humanpicker.window\", function(e){\r\n        self._kidAgePickerClose();\r\n      });\r\n  };\r\n  HumanPicker.prototype._kidAgePickerClose = function(){\r\n    var kidAgeList = this.$ageListWrap;\r\n    kidAgeList.hide();\r\n  };\r\n  \r\n  HumanPicker.prototype._kidAgePickerShow = function(kidItem, curValue, callback){\r\n    var ageClickEvent = \"click.humanpicker\",\r\n        kidAgeList = this.$ageListWrap;\r\n        \r\n    kidAgeList.css(\"left\", $(kidItem).offset().left);\r\n    kidAgeList.css(\"top\", $(kidItem).offset().top + $(kidItem).outerHeight() + 2);\r\n        \r\n    kidAgeList.find('[data-role=\"kid-age-item\"]')\r\n     .removeClass(HumanPicker.CLASS.classKidAgeSelected);\r\n     \r\n    kidAgeList.find('[data-role=\"kid-age-item\"][data-value=\"'+curValue+'\"]')\r\n     .addClass(HumanPicker.CLASS.classKidAgeSelected);\r\n        \r\n    kidAgeList.find('[data-role=\"kid-age-item\"]')\r\n      .off(ageClickEvent)\r\n      .on(ageClickEvent, function(e){\r\n        kidAgeList.find('[data-role=\"kid-age-item\"]')\r\n          .removeClass(HumanPicker.CLASS.classKidAgeSelected);\r\n        $(this).addClass(HumanPicker.CLASS.classKidAgeSelected);  \r\n        \r\n        callback.call(kidItem, {text: $(this).text(), value: $(this).data(\"value\")});\r\n        \r\n        kidAgeList.hide();\r\n      });\r\n      \r\n    kidAgeList.show();\r\n  };\r\n  \r\n  // ===========================\r\n  // HUMAN PICKER CSS CLASSES\r\n  // ===========================\r\n  HumanPicker.CLASS = {\r\n    classItem: \"human-picker-item\",\r\n    classItemSelected: 'human-picker-item-selected',\r\n    classKidAgeSelected: 'kid-age-item-selected'\r\n  };\r\n  \r\n  // ===========================\r\n  // HUMAN PICKER LOCALES\r\n  // ===========================\r\n  HumanPicker.i18n = {\r\n      \"ru\": {\r\n        tooltipItem: \"Добавить\",\r\n        tooltipItemSelected: \"Удалить\",\r\n        tooltipEditAge: \"Редактировать возраст\",\r\n        kidAges: [\"0 лет\", \"1 год\", \"2 года\", \"3 года\", \"4 года\", \"5 лет\", \"6 лет\", \"7 лет\", \"8 лет\", \"9 лет\", \"10 лет\", \"11 лет\", \"12 лет\", \"13 лет\", \"14 лет\", \"15 лет\", \"16 лет\", \"17 лет\"]\r\n      },\r\n      \"en\": {\r\n        tooltipItem: \"Add\",\r\n        tooltipItemSelected: \"Remove\",\r\n        tooltipEditAge: \"Edit age\",\r\n        kidAges: [\"0 years\", \"1 year\", \"2 years\", \"3 years\", \"4 years\", \"5 years\", \"6 years\", \"7 years\", \"8 years\", \"9 years\", \"10 years\", \"11 years\", \"12 years\", \"13 years\", \"14 years\", \"15 years\", \"16 years\", \"17 years\"]\r\n      }\r\n  };\r\n  \r\n  // ===========================\r\n  // HUMAN PICKER TEMPLATES\r\n  // ===========================\r\n  HumanPicker.Tpl = {\r\n    // TODO: use link 'a' like actions\r\n    Wrap: '<ul class=\"human-picker\"></ul>',\r\n    AdultItem: '<li class=\"'+HumanPicker.CLASS.classItem+' human-picker-item-adult\" data-role=\"adult-item\"></li>',\r\n    KidItem: '<li class=\"'+HumanPicker.CLASS.classItem+' human-picker-item-kid\" data-role=\"kid-item\"><div class=\"kid-age-caption\">{age}</div></li>',\r\n    BodyListContainer: '<div id={id}></div>',\r\n    AgeListWrap: '<div style=\"display: none;\" class=\"human-picker_kid-age-list-wrap\" data-role=\"kid-age-list\"></div>',\r\n    AgeList: '<ul class=\"kid-age-list\"></ul>',\r\n    AgeListItem: '<li class=\"kid-age-item\" data-role=\"kid-age-item\" data-value=\"{value}\">{text}</li>',\r\n    HiddenInput: '<input data-role=\"{role}\" name=\"{name}\" type=\"hidden\" value=\"{value}\">',\r\n  };\r\n  \r\n  HumanPicker.VERSION  = '1.0.0';\r\n\r\n  HumanPicker.DEFAULTS = {\r\n    adultsCount: 4, // maxAdults for select\r\n    kidsCount: 3, // max kids for select\r\n    initialValue: {\r\n      adults: 2, // adults selected\r\n      kids: 0, // kids selected\r\n      kidsAges: [] // array ages of kids based on kids selected count, default age for kid 0\r\n    },\r\n    lang: \"en\",\r\n    adultsParamName: \"adults\", // hidden input parameter name\r\n    kidsParamName: \"kids\", // hidden input parameter name\r\n    kidsAgesParamName: \"kidsAges[]\", // hidden input parameter name\r\n    kidAgeItemsGroupMax: 9\r\n  };\r\n  \r\n  // =====================\r\n  // INIT HUMAN PICKER JQUERY PLUGIN\r\n  // =====================\r\n  function humanPickerPlugin(option) {\r\n    return this.each(function() {\r\n      var $this   = $(this);\r\n      var data    = $this.data('xt.HumanPicker');\r\n      var options = typeof option === 'object' && option;\r\n\r\n      if (!data){ $this.data('xt.HumanPicker', (data = new HumanPicker(this, options))); }\r\n      if (typeof option === 'string') { data[option](); }\r\n    });\r\n  }\r\n  \r\n  $.fn.HumanPicker             = humanPickerPlugin;\r\n  $.fn.HumanPicker.Constructor = HumanPicker;\r\n  \r\n  // =====================\r\n  // HUMAN PICKER DATA-API\r\n  // =====================\r\n\r\n  $(window).on('load', function () {\r\n    $('[data-control=\"humanpicker\"]').each(function () {\r\n      var $element = $(this);\r\n      var data = $element.data();\r\n      humanPickerPlugin.call($element, data);\r\n    });\r\n  });\r\n  \r\n})( jQuery, window, document );\n},{\"nano\":1}]},{},[2])\n\n","; var __browserify_shim_require__=require;(function browserifyShim(module, exports, require, define, browserify_shim__define__module__export__) {\n/* Nano Templates - https://github.com/trix/nano */\r\n\r\nfunction nano(template, data) {\r\n  return template.replace(/\\{([\\w\\.]*)\\}/g, function(str, key) {\r\n    var keys = key.split(\".\"), v = data[keys.shift()];\r\n    for (var i = 0, l = keys.length; i < l; i++) v = v[keys[i]];\r\n    return (typeof v !== \"undefined\" && v !== null) ? v : \"\";\r\n  });\r\n}\r\n\n; browserify_shim__define__module__export__(typeof nano != \"undefined\" ? nano : window.nano);\n\n}).call(global, undefined, undefined, undefined, undefined, function defineExport(ex) { module.exports = ex; });\n","/* global jQuery */\r\n/* global require */\r\n\r\n// TODO: documentation\r\n// TODO: demo page\r\n// TODO: animation add/remove icons\r\n\r\n;(function($, window, document, undefined) { \r\n  'use strict';\r\n  var HumanPicker,\r\n      nano = require(\"nano\");\r\n      \r\n  // ===========================\r\n  // HUMAN PICKER CLASS\r\n  // ===========================\r\n  HumanPicker = function(element, options) { \r\n    this.options   = $.extend({}, HumanPicker.DEFAULTS, options);\r\n\r\n    // generate age items from locale settings\r\n    // use value as index\r\n    this.kidAgeItems = [];\r\n    var kages = HumanPicker.i18n[this.options.lang][\"kidAges\"] || [];\r\n    this.kidAgeItems = $.map(kages, function(age, i){\r\n      return { text: age, value: i };\r\n    });\r\n\r\n    this.$element  = $(element);\r\n    this.$bodyListContainer = this._renderTpl(HumanPicker.Tpl.BodyListContainer, \r\n                                  {id: this.$element.prop('id')+'_HumanPickerListContainer'});\r\n    this.$ageListWrap = this._renderTpl(HumanPicker.Tpl.AgeListWrap);\r\n    this.$ageListWrap.appendTo(this.$bodyListContainer);\r\n    \r\n    this.$bodyListContainer.appendTo(document.body);\r\n    \r\n    this._render();\r\n    this._bindEvents();\r\n  };\r\n\r\n  HumanPicker.prototype._getI18n = function (key){\r\n    return HumanPicker.i18n[this.options.lang][key];\r\n  };\r\n  \r\n  HumanPicker.prototype.destroy = function()\r\n  {\r\n    this.$element.empty();\r\n    this.$bodyListContainer.empty();\r\n    this.$bodyListContainer.remove();\r\n  };\r\n  \r\n  HumanPicker.prototype._renderTpl = function(template, data){\r\n    return $(nano(template, data));\r\n  };\r\n  \r\n  HumanPicker.prototype._render = function(){\r\n    var self = this,\r\n        $wrap = this._renderTpl(HumanPicker.Tpl.Wrap),\r\n        opts = this.options,\r\n        initVal = opts.initialValue,\r\n        optKidAges = initVal.kidsAges && initVal.kidsAges instanceof Array?initVal.kidsAges:[],\r\n        i;\r\n        \r\n    this.$element.empty();\r\n    \r\n    //adults\r\n    for(i = 0; i < opts.adultsCount; i++){\r\n      self._renderTpl(HumanPicker.Tpl.AdultItem)\r\n        .addClass(i<initVal.adults?HumanPicker.CLASS.classItemSelected:'')\r\n        .appendTo($wrap);\r\n    }\r\n    \r\n    // adults, kids input\r\n    self._renderTpl(HumanPicker.Tpl.HiddenInput, {role: \"adults\", name: opts.adultsParamName, value: initVal.adults})\r\n    .appendTo($wrap);\r\n    \r\n     self._renderTpl(HumanPicker.Tpl.HiddenInput, {role: \"kids\", name: opts.kidsParamName, value: initVal.kids})\r\n    .appendTo($wrap);\r\n    \r\n    //kids\r\n    for(i = 0; i < opts.adultsCount; i++){        \r\n      self._renderTpl(HumanPicker.Tpl.KidItem, {age: optKidAges[i] || 0})\r\n        .append(\r\n          self._renderTpl(HumanPicker.Tpl.HiddenInput, {role: \"kid-age\", name: opts.kidsAgesParamName, value: optKidAges[i] || 0})\r\n          .prop(\"disabled\",i>=initVal.kids))\r\n        .addClass(i<initVal.kids?HumanPicker.CLASS.classItemSelected:'')\r\n        .appendTo($wrap);\r\n    }\r\n    \r\n    // hidden kid age picker\r\n    if(self.kidAgeItems.length > 0)\r\n    {\r\n      self._renderKidAgeList();\r\n    }\r\n    \r\n    self.$element.append($wrap);\r\n\r\n    self._updateTooltips();\r\n  };\r\n  \r\n  HumanPicker.prototype._renderKidAgeList = function(){\r\n    var self = this,\r\n        opts = this.options,\r\n        groupMaxItems = opts.kidAgeItemsGroupMax || 9,\r\n        groupsCount = Math.max(((self.kidAgeItems.length || 1) / groupMaxItems).toFixed() - 0, 1),\r\n        list, i,j,max;\r\n        \r\n      this.$ageListWrap.empty();\r\n        \r\n      for(i=0; i<groupsCount; i++){\r\n        list = self._renderTpl(HumanPicker.Tpl.AgeList);\r\n        max = Math.min((i*groupMaxItems)+groupMaxItems, self.kidAgeItems.length);\r\n        for(j=i*groupMaxItems; j<max; j++)\r\n        {\r\n          self._renderTpl(HumanPicker.Tpl.AgeListItem, self.kidAgeItems[j])\r\n            .appendTo(list);\r\n        }\r\n        list.appendTo(this.$ageListWrap);\r\n      }\r\n  };\r\n  \r\n  HumanPicker.prototype.value = function(value){\r\n    if(value && typeof value === 'object'){\r\n      this._setValue(value);\r\n    }\r\n    else{\r\n      return this._getValue();\r\n    }\r\n  };\r\n  \r\n  HumanPicker.prototype._setValue = function(value){\r\n    // TODO: Realize\r\n  };\r\n\r\n  HumanPicker.prototype._getValue = function(){\r\n    var objRes = {},\r\n        inputAdults = this.$element.find('input[data-role=\"adults\"]'),\r\n        inputKids = this.$element.find('input[data-role=\"kids\"]'),\r\n        inputKidAges = this.$element.find('.'+HumanPicker.CLASS.classItemSelected+' input[data-role=\"kid-age\"]');\r\n        \r\n    objRes.adults = inputAdults.val();\r\n    objRes.kids = inputKids.val();\r\n\r\n    objRes.kidsAges = objRes.kidsAges || [];\r\n    if(inputKidAges.length){\r\n      objRes.kidsAges = $.map(inputKidAges, function(item){\r\n        return item.value-0;\r\n      });\r\n    }\r\n    return objRes;\r\n  };\r\n\r\n  HumanPicker.prototype._updateTooltips = function(){\r\n    var self = this,\r\n        elem = self.$element;\r\n\r\n    elem.find(\".\"+HumanPicker.CLASS.classItem).each(function(i, item){\r\n        var $item = $(item);\r\n        var titleKey = $item.hasClass(HumanPicker.CLASS.classItemSelected)?\"tooltipItemSelected\":\"tooltipItem\";\r\n        $($item).attr(\"title\", self._getI18n(titleKey));\r\n    });\r\n\r\n    elem.find('.kid-age-caption').each(function(i, item){\r\n      var $item = $(item);\r\n      if($item.closest(\".\"+HumanPicker.CLASS.classItem).hasClass(HumanPicker.CLASS.classItemSelected)){\r\n          $item.attr(\"title\", self._getI18n(\"tooltipEditAge\"));\r\n      }\r\n      else{\r\n          $item.removeAttr(\"title\");\r\n      }      \r\n    });\r\n            \r\n  };\r\n  \r\n  // TODO: replace/remove attribute selectors\r\n  HumanPicker.prototype._bindEvents = function(){\r\n    var self = this,\r\n        updateKidsCountValue = function(){\r\n          self.$element.find('input[data-role=\"kids\"]')\r\n            .val(self.$element.find('[data-role=\"kid-item\"].'+HumanPicker.CLASS.classItemSelected).length);\r\n        };\r\n        \r\n    self.$element\r\n      .find(\"[data-role='adult-item']\")\r\n      .on(\"click\",function(e){\r\n        var input = self.$element.find('input[data-role=\"adults\"]');\r\n        $(this).toggleClass(HumanPicker.CLASS.classItemSelected);\r\n        input.val(self.$element.find('[data-role=\"adult-item\"].'+HumanPicker.CLASS.classItemSelected).length);\r\n        self._updateTooltips();\r\n    });\r\n    \r\n    self.$element\r\n      .find(\"[data-role='kid-item']\")\r\n      .on(\"click\",function(e){\r\n        var $this = $(this);\r\n        \r\n        self._kidAgePickerClose();\r\n        \r\n        if($this.hasClass(HumanPicker.CLASS.classItemSelected)){\r\n          $this.removeClass( HumanPicker.CLASS.classItemSelected);\r\n          $this.find('.kid-age-caption').text(0);\r\n          $this.find('input[data-role=\"kid-age\"]')\r\n            .prop(\"disabled\",true)\r\n            .val(0);\r\n            \r\n          updateKidsCountValue();\r\n          self._updateTooltips();\r\n        }\r\n        else{\r\n          $this.find('.kid-age-caption').trigger(\"click\");\r\n        }\r\n    });\r\n\r\n    self.$element\r\n      .find(\".kid-age-caption\")\r\n      .on(\"click\",function(e){\r\n        e.stopPropagation();\r\n         var $this = $(this),\r\n             $kidItem = $this.closest(\"[data-role='kid-item']\"),\r\n             curVal = $kidItem.find('input[data-role=\"kid-age\"]').val() || 0;\r\n         self._kidAgePickerShow($kidItem, curVal, function(valueItem){\r\n            $this.text(valueItem.text.replace(/ /g,\"\"));\r\n            $kidItem.addClass( HumanPicker.CLASS.classItemSelected);\r\n            $kidItem.find('input[data-role=\"kid-age\"]')\r\n              .prop(\"disabled\",false)\r\n              .val(valueItem.value);            \r\n            updateKidsCountValue();\r\n            self._updateTooltips();\r\n          });\r\n    });\r\n    \r\n    $(document)\r\n      .off(\"click.humanpicker.document\")\r\n      .on(\"click.humanpicker.document\", function(e){\r\n        if($(e.target).closest('[data-role=\"kid-age-list\"]').length ||\r\n           $(e.target).closest('[data-role=\"kid-item\"]').length){\r\n            e.preventDefault();\r\n            return;\r\n        }\r\n        self._kidAgePickerClose();\r\n      });\r\n      \r\n    $(window)\r\n      .off(\"resize.humanpicker.window\")\r\n      .on(\"resize.humanpicker.window\", function(e){\r\n        self._kidAgePickerClose();\r\n      });\r\n  };\r\n  HumanPicker.prototype._kidAgePickerClose = function(){\r\n    var kidAgeList = this.$ageListWrap;\r\n    kidAgeList.hide();\r\n  };\r\n  \r\n  HumanPicker.prototype._kidAgePickerShow = function(kidItem, curValue, callback){\r\n    var ageClickEvent = \"click.humanpicker\",\r\n        kidAgeList = this.$ageListWrap;\r\n        \r\n    kidAgeList.css(\"left\", $(kidItem).offset().left);\r\n    kidAgeList.css(\"top\", $(kidItem).offset().top + $(kidItem).outerHeight() + 2);\r\n        \r\n    kidAgeList.find('[data-role=\"kid-age-item\"]')\r\n     .removeClass(HumanPicker.CLASS.classKidAgeSelected);\r\n     \r\n    kidAgeList.find('[data-role=\"kid-age-item\"][data-value=\"'+curValue+'\"]')\r\n     .addClass(HumanPicker.CLASS.classKidAgeSelected);\r\n        \r\n    kidAgeList.find('[data-role=\"kid-age-item\"]')\r\n      .off(ageClickEvent)\r\n      .on(ageClickEvent, function(e){\r\n        kidAgeList.find('[data-role=\"kid-age-item\"]')\r\n          .removeClass(HumanPicker.CLASS.classKidAgeSelected);\r\n        $(this).addClass(HumanPicker.CLASS.classKidAgeSelected);  \r\n        \r\n        callback.call(kidItem, {text: $(this).text(), value: $(this).data(\"value\")});\r\n        \r\n        kidAgeList.hide();\r\n      });\r\n      \r\n    kidAgeList.show();\r\n  };\r\n  \r\n  // ===========================\r\n  // HUMAN PICKER CSS CLASSES\r\n  // ===========================\r\n  HumanPicker.CLASS = {\r\n    classItem: \"human-picker-item\",\r\n    classItemSelected: 'human-picker-item-selected',\r\n    classKidAgeSelected: 'kid-age-item-selected'\r\n  };\r\n  \r\n  // ===========================\r\n  // HUMAN PICKER LOCALES\r\n  // ===========================\r\n  HumanPicker.i18n = {\r\n      \"ru\": {\r\n        tooltipItem: \"Добавить\",\r\n        tooltipItemSelected: \"Удалить\",\r\n        tooltipEditAge: \"Редактировать возраст\",\r\n        kidAges: [\"0 лет\", \"1 год\", \"2 года\", \"3 года\", \"4 года\", \"5 лет\", \"6 лет\", \"7 лет\", \"8 лет\", \"9 лет\", \"10 лет\", \"11 лет\", \"12 лет\", \"13 лет\", \"14 лет\", \"15 лет\", \"16 лет\", \"17 лет\"]\r\n      },\r\n      \"en\": {\r\n        tooltipItem: \"Add\",\r\n        tooltipItemSelected: \"Remove\",\r\n        tooltipEditAge: \"Edit age\",\r\n        kidAges: [\"0 years\", \"1 year\", \"2 years\", \"3 years\", \"4 years\", \"5 years\", \"6 years\", \"7 years\", \"8 years\", \"9 years\", \"10 years\", \"11 years\", \"12 years\", \"13 years\", \"14 years\", \"15 years\", \"16 years\", \"17 years\"]\r\n      }\r\n  };\r\n  \r\n  // ===========================\r\n  // HUMAN PICKER TEMPLATES\r\n  // ===========================\r\n  HumanPicker.Tpl = {\r\n    // TODO: use link 'a' like actions\r\n    Wrap: '<ul class=\"human-picker\"></ul>',\r\n    AdultItem: '<li class=\"'+HumanPicker.CLASS.classItem+' human-picker-item-adult\" data-role=\"adult-item\"></li>',\r\n    KidItem: '<li class=\"'+HumanPicker.CLASS.classItem+' human-picker-item-kid\" data-role=\"kid-item\"><div class=\"kid-age-caption\">{age}</div></li>',\r\n    BodyListContainer: '<div id={id}></div>',\r\n    AgeListWrap: '<div style=\"display: none;\" class=\"human-picker_kid-age-list-wrap\" data-role=\"kid-age-list\"></div>',\r\n    AgeList: '<ul class=\"kid-age-list\"></ul>',\r\n    AgeListItem: '<li class=\"kid-age-item\" data-role=\"kid-age-item\" data-value=\"{value}\">{text}</li>',\r\n    HiddenInput: '<input data-role=\"{role}\" name=\"{name}\" type=\"hidden\" value=\"{value}\">',\r\n  };\r\n  \r\n  HumanPicker.VERSION  = '1.0.0';\r\n\r\n  HumanPicker.DEFAULTS = {\r\n    adultsCount: 4, // maxAdults for select\r\n    kidsCount: 3, // max kids for select\r\n    initialValue: {\r\n      adults: 2, // adults selected\r\n      kids: 0, // kids selected\r\n      kidsAges: [] // array ages of kids based on kids selected count, default age for kid 0\r\n    },\r\n    lang: \"en\",\r\n    adultsParamName: \"adults\", // hidden input parameter name\r\n    kidsParamName: \"kids\", // hidden input parameter name\r\n    kidsAgesParamName: \"kidsAges[]\", // hidden input parameter name\r\n    kidAgeItemsGroupMax: 9\r\n  };\r\n  \r\n  // =====================\r\n  // INIT HUMAN PICKER JQUERY PLUGIN\r\n  // =====================\r\n  function humanPickerPlugin(option) {\r\n    return this.each(function() {\r\n      var $this   = $(this);\r\n      var data    = $this.data('xt.HumanPicker');\r\n      var options = typeof option === 'object' && option;\r\n\r\n      if (!data){ $this.data('xt.HumanPicker', (data = new HumanPicker(this, options))); }\r\n      if (typeof option === 'string') { data[option](); }\r\n    });\r\n  }\r\n  \r\n  $.fn.HumanPicker             = humanPickerPlugin;\r\n  $.fn.HumanPicker.Constructor = HumanPicker;\r\n  \r\n  // =====================\r\n  // HUMAN PICKER DATA-API\r\n  // =====================\r\n\r\n  $(window).on('load', function () {\r\n    $('[data-control=\"humanpicker\"]').each(function () {\r\n      var $element = $(this);\r\n      var data = $element.data();\r\n      humanPickerPlugin.call($element, data);\r\n    });\r\n  });\r\n  \r\n})( jQuery, window, document );"],"sourceRoot":"/source/"}